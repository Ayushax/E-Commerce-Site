<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Wishlist - GadgetzHub</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"> 
</head>
<body>

    <header class="navbar">
        <a href="index.html" class="logo">
            <i class="fa-solid fa-store"></i> <span class="gadgetz-brand">Gadgetz</span><span class="hub-brand">Hub</span>
        </a>
        <a href="wishlist.html" class="wishlist-icon">
            <i class="fa-solid fa-heart"></i>
            <span id="wishlistAmount" class="cartAmount">0</span>
        </a>
        <a href="cart.html" class="cart-icon">
            <i class="fa-solid fa-cart-shopping"></i>
            <span id="cartAmount" class="cartAmount">0</span>
        </a>
    </header>

    <main class="container">
        <h2 class="cart-title">My Wishlist</h2>

        <div id="wishlist-items" class="wishlist-container">
            </div>
        
        <p id="wishlist-status" class="text-center"></p>

    </main>

    <footer class="footer">
        <p>&copy; 2025 GadgetzHub E-Commerce Demo.</p>
    </footer>

    <script src="data.js"></script>
    <script src="cart.js"></script>
    <script>
        // --- WISHLIST RENDER LOGIC (Placed here for simplicity, runs after cart.js) ---
        
        let wishlistItemsContainer = document.getElementById("wishlist-items");
        let wishlistStatus = document.getElementById("wishlist-status");

        let generateWishlistItems = () => {
            if (wishlist.length !== 0) {
                wishlistStatus.innerHTML = ""; // Clear status message
                wishlistItemsContainer.innerHTML = wishlist.map((id) => {
                    // Find the full product data
                    let search = shopItemsData.find((product) => product.id === id) || {};
                    let { img, name, price } = search;

                    return `
                    <div class="wishlist-item">
                        <div class="item-info">
                            <img src="${img}" alt="${name}" class="wishlist-img">
                            <div>
                                <h3>${name}</h3>
                                <p class="wishlist-price">Price: â‚¹ ${price}.00</p>
                            </div>
                        </div>
                        <div class="item-actions">
                            <button onclick="addToCart('${id}')" class="add-to-cart-btn">
                                <i class="fa-solid fa-cart-plus"></i> Add to Cart
                            </button>
                            <button onclick="addToWishlist('${id}'); generateWishlistItems();" class="remove-btn">
                                <i class="fa-solid fa-trash-alt"></i> Remove
                            </button>
                        </div>
                    </div>
                    `;
                }).join("");
            } else {
                wishlistItemsContainer.innerHTML = ``;
                wishlistStatus.innerHTML = `
                <h2 class="cart-empty-message">Your Wishlist is Empty!</h2>
                <a href="index.html">
                    <button class="home-btn">Start Browsing</button>
                </a>
                `;
            }
        };
        
        // Run the rendering function on page load
        generateWishlistItems();
    </script>
</body>
</html>